var myApp=angular.module("myApp",["ngRoute","myController"]);myApp.config(["$routeProvider",function(a){a.when("/index",{templateUrl:"client/frontend/build/html/index.html",controller:"indexController"}).when("/:type",{templateUrl:"client/frontend/build/html/type.html",controller:"mliController"}).otherwise({redirectTo:"/index"})}]);var myController=angular.module("myController",[]);myController.controller("mliController",["$scope","$http","$routeParams","$location","$rootScope",function(a,b,c,d,e){e.orderProp="-time",a.type=c.type,a.count=1,void 0!==a.type&&b({method:"get",url:"client/backend/php/showList.php",params:{type:a.type,count:a.count}}).success(function(b){a.articles=b}).error(function(a){console.log("error messgae:"+a)}),a.getNext=function(){b({method:"get",url:"client/backend/php/showList.php",params:{type:a.type,count:a.count+1}}).success(function(b){a.count++}).error(function(a){console.log("error messgae:"+a)})},a.getDetail=function(c){window.open(c.src),b({method:"get",url:"client/backend/php/count.php",params:{id:c.id,type:a.type}}).success(function(a){c.count++}).error(function(a){console.log("error messgae:"+a)})}}]),myController.controller("indexController",["$scope","$http",function(a,b){b({method:"get",url:"client/backend/php/showHot.php"}).success(function(b){a.hots=b.hots,a.hots.forEach(function(b,c,d){switch(a.hots[c].type){case"mli":a.hots[c].typeCn="军事新闻";break;case"edu":a.hots[c].typeCn="教育新闻";break;case"sci":a.hots[c].typeCn="科技新闻";break;case"gam":a.hots[c].typeCn="游戏新闻";break;case"ent":a.hots[c].typeCn="娱乐新闻";break;default:a.hots[c].typeCn="其他新闻"}}),a.mlis=b.mlis,a.scis=b.scis,a.edus=b.edus,a.gams=b.gams,a.ents=b.ents}).error(function(a){console.log("error messgae:"+a)}),a.getDetail=function(a){b({method:"get",url:"client/backend/php/count.php",params:{id:a.id,type:a.type}}).success(function(b){a.count++}).error(function(a){console.log("error messgae:"+a)})}}]);